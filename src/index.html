<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./index.css" />
    <title>Document</title>
</head>
<body>
    <main class="container">
        <div class="container__upload-Profile">
          <h1>USER PROFILE</h1>
          <form action="/api/uploadUser" enctype="multipart/form-data" method="post">
            <input type="text" class="container__input1"  name="myName" placeholder="Enter Name"  />
            <br>
             <input type="text" class="container__input1"  name="myMobile" placeholder="Enter Mobile" />
            <br>
             <input type="text" class="container__input1"  name="myAddress" placeholder="Enter Address" />
            <br>
          <input type="file" class="container__input" id="myProfile" name="myProfile" />
          <br>
          <input class="container__submit" type="submit" />
          </form>
        </div>
      </main>
</body>
<script>
  
    const parentDiv = document.querySelector(".container");
    window.addEventListener("load", async () => {
      try {
        let res = await axios({
          method: "GET",
          url: "/api/getUsers",
        });
        let users = res.data.files;
  
        files.forEach((e) => {
          markup = `
              <div>${e.Name}</div>
              <img ${e.Profile}>

              `;
          parentDiv.insertAdjacentHTML("beforeend", markup);
        });
      } catch (error) {
        console.log(error);
      }
    });
  </script>
</html>